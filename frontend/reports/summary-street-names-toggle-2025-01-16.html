<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Street Names Toggle Feature - Executive Summary</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0c10;
            --bg-elevated: #12161e;
            --bg-card: #161b22;
            --border: #2a3140;
            --text: #e2e8f0;
            --text-secondary: #94a3b8;
            --text-muted: #5c6a7a;
            --green: #34d399;
            --yellow: #fbbf24;
            --red: #f87171;
            --blue: #60a5fa;
            --purple: #a78bfa;
            --cyan: #22d3ee;
            --orange: #fb923c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            font-size: 14px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 48px 24px;
        }

        /* Header */
        .header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 48px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--border);
        }

        .task-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text);
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 9999px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .status-complete {
            background: rgba(52, 211, 153, 0.15);
            color: var(--green);
            border: 1px solid rgba(52, 211, 153, 0.3);
        }

        .review-badge {
            background: rgba(251, 191, 60, 0.15);
            color: var(--orange);
            border: 1px solid rgba(251, 191, 60, 0.3);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .review-badge:hover {
            background: rgba(251, 191, 60, 0.25);
        }

        .timestamp {
            margin-left: auto;
            color: var(--text-muted);
            font-size: 12px;
            font-family: 'JetBrains Mono', monospace;
        }

        /* Intent Verification Box */
        .intent-box {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 48px;
        }

        .intent-box-title {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: 12px;
        }

        .intent-row {
            display: grid;
            grid-template-columns: 100px 1fr auto;
            gap: 12px;
            align-items: start;
            margin-bottom: 12px;
        }

        .intent-row:last-child {
            margin-bottom: 0;
        }

        .intent-label {
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 13px;
        }

        .intent-value {
            color: var(--text);
        }

        .match-verified {
            color: var(--green);
            font-weight: 600;
        }

        .match-partial {
            color: var(--yellow);
            font-weight: 600;
        }

        /* Behavioral Delta */
        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 24px;
            color: var(--text);
        }

        .delta-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 48px;
        }

        .delta-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: var(--bg-elevated);
            border-radius: 8px;
            border-left: 3px solid;
        }

        .delta-changed {
            border-left-color: var(--yellow);
        }

        .delta-same {
            border-left-color: var(--green);
        }

        .delta-new {
            border-left-color: var(--blue);
        }

        .delta-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .badge-changed {
            background: rgba(251, 191, 60, 0.2);
            color: var(--orange);
        }

        .badge-same {
            background: rgba(52, 211, 153, 0.2);
            color: var(--green);
        }

        .badge-new {
            background: rgba(96, 165, 250, 0.2);
            color: var(--blue);
        }

        .delta-text {
            color: var(--text);
            font-size: 13px;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            align-items: center;
            gap: 24px;
            padding: 16px 20px;
            background: var(--bg-elevated);
            border-radius: 8px;
            margin-bottom: 48px;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .stat-green {
            color: var(--green);
        }

        .stat-red {
            color: var(--red);
        }

        /* Timeline */
        .timeline {
            display: flex;
            flex-direction: column;
            gap: 32px;
            margin-bottom: 48px;
        }

        .timeline-step {
            position: relative;
            padding-left: 32px;
        }

        .timeline-step::before {
            content: '';
            position: absolute;
            left: 0;
            top: 6px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border);
        }

        .timeline-step.info::before {
            background: var(--cyan);
        }

        .timeline-step.success::before {
            background: var(--green);
        }

        .timeline-step.decision::before {
            background: var(--purple);
        }

        .timeline-step::after {
            content: '';
            position: absolute;
            left: 5px;
            top: 18px;
            width: 2px;
            height: calc(100% + 14px);
            background: var(--border);
        }

        .timeline-step:last-child::after {
            display: none;
        }

        .step-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .step-type {
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .type-info {
            background: rgba(34, 211, 238, 0.15);
            color: var(--cyan);
        }

        .type-success {
            background: rgba(52, 211, 153, 0.15);
            color: var(--green);
        }

        .type-decision {
            background: rgba(167, 139, 250, 0.15);
            color: var(--purple);
        }

        .step-title {
            font-size: 15px;
            font-weight: 600;
            color: var(--text);
        }

        .confidence-badge {
            margin-left: auto;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing:  patterns.05em;
        }

        .confidence-high {
            background: rgba(52, 211, 153, 0.15);
            color: var(--green);
        }

        .confidence-medium {
            background: rgba(251, 191, 60, 0.15);
            color: var(--orange);
        }

        .step-body {
            color: var(--text-secondary);
            font-size: 13px;
            line-height: 1.7;
            margin-bottom: 12px;
        }

        .file-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .file-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 10px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 12px;
            font-family: 'JetBrains Mono', monospace;
            color: var(--text-secondary);
        }

        .file-tag .added {
            color: var(--green);
        }

        .file-tag .modified {
            color: var(--yellow);
        }

        /* Attention Box */
        .attention-box {
            background: rgba(251, 191, 60, 0.1);
            border: 1px solid rgba(251, 191, 60, 0.3);
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }

        .attention-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            font-weight: 600;
            color: var(--orange);
            margin-bottom: 8px;
        }

        .attention-content {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Collapsible Sections */
        .collapsible {
            margin-bottom: 24px;
        }

        .collapsible-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .collapsible-header:hover {
            background: var(--bg-card);
        }

        .collapsible-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }

        .collapsible-icon {
            color: var(--text-muted);
            transition: transform 0.2s;
        }

        .collapsible-content {
            padding: 16px;
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-top: none;
            border-radius: 0 0 8px 8px;
            margin-top: -1px;
        }

        .collapsible-content ul {
            list-style: none;
            padding: 0;
        }

        .collapsible-content li {
            padding: 8px 0;
            border-bottom: 1px solid var(--border);
            font-size: 13px;
            color: var(--text-secondary);
        }

        .collapsible-content li:last-child {
            border-bottom: none;
        }

        .collapsible-content strong {
            color: var(--text);
        }

        /* Code Snippets */
        .code-snippet {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
            overflow-x: auto;
        }

        .code-snippet pre {
            margin: 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            line-height: 1.6;
            color: var(--text);
        }

        .code-snippet .kw {
            color: var(--purple);
        }

        .code-snippet .fn {
            color: var(--blue);
        }

        .code-snippet .tp {
            color: var(--cyan);
        }

        .code-snippet .cm {
            color: var(--text-muted);
        }

        .snippet-rationale {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border);
        }

        /* Verification Section */
        .verification-section {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            margin-top: 24px;
        }

        .verification-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 16px;
        }

        .verification-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .verification-item {
            padding: 12px;
            background: var(--bg-card);
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        .verification-label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .verification-value {
            font-size: 16px;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
        }

        .verification-pending {
            color: var(--yellow);
        }

        @media (max-width: 768px) {
            .container {
                padding: 24px 16px;
            }

            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }

            .timestamp {
                margin-left: 0;
            }

            .stats-bar {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="task-title">Street Names Toggle Feature</h1>
            <span class="status-badge status-complete">Complete</span>
            <span class="timestamp">2025-01-16 • ~2 hours</span>
        </header>

        <!-- Intent Verification -->
        <div class="intent-box">
            <div class="intent-box-title">Intent Verification</div>
            <div class="intent-row">
                <span class="intent-label">Requested</span>
                <span class="intent-value">Add toggleable street names option to map editor</span>
            </div>
            <div class="intent-row">
                <span class="intent-label">Delivered</span>
                <span class="intent-value">Street names toggle with layer visibility control, UI integration, and type safety</span>
            </div>
            <div class="intent-row">
                <span class="intent-label">Match</span>
                <span class="match-verified">✓ Verified</span>
            </div>
        </div>

        <!-- Behavioral Delta -->
        <h2 class="section-title">Behavioral Delta</h2>
        <div class="delta-list">
            <div class="delta-item delta-new">
                <span class="delta-badge badge-new">NEW</span>
                <span class="delta-text">Street names toggle in layer controls (Labels section)</span>
            </div>
            <div class="delta-item delta-new">
                <span class="delta-badge badge-new">NEW</span>
                <span class="delta-text">Street name label layer using OpenMapTiles transportation_name data</span>
            </div>
            <div class="delta-item delta-same">
                <span class="delta-badge badge-same">SAME</span>
                <span class="delta-text">Existing layer toggle system unchanged</span>
            </div>
            <div class="delta-item delta-same">
                <span class="delta-badge badge-same">SAME</span>
                <span class="delta-text">MapLibre GL rendering behavior unchanged</span>
            </div>
            <div class="delta-item delta-changed">
                <span class="delta-badge badge-changed">CHANGED</span>
                <span class="delta-text">Default layer configuration now includes labels-streets: false</span>
            </div>
        </div>

        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="stat-item">
                <span class="stat-value">5</span>
                <span class="stat-label">Files Changed</span>
            </div>
            <div class="stat-item">
                <span class="stat-value stat-green">+142</span>
                <span class="stat-label">Lines Added</span>
            </div>
            <div class="stat-item">
                <span class="stat-value stat-red">-0</span>
                <span class="stat-label">Lines Removed</span>
            </div>
            <div class="stat-item">
                <span class="stat-value">N/A</span>
                <span class="stat-label">Test Coverage</span>
            </div>
        </div>

        <!-- Timeline -->
        <h2 class="section-title">Implementation Timeline</h2>
        <div class="timeline">
            <!-- Step 1 -->
            <div class="timeline-step info">
                <div class="step-header">
                    <span class="step-type type-info">Analysis</span>
                    <span class="step-title">Analyzed existing label layer system</span>
                    <span class="confidence-badge confidence-high">High</span>
                </div>
                <div class="step-body">
                    Examined existing label implementation in <code>lib/styles/layers/labels.ts</code> and layer toggle system in <code>lib/styles/layerToggles.ts</code>. Confirmed OpenMapTiles provides street names in <code>transportation_name</code> layer. Verified existing infrastructure supports new label types without modification.
                </div>
                <div class="file-tags">
                    <span class="file-tag"><span class="modified">lib/styles/layers/labels.ts</span></span>
                    <span class="file-tag"><span class="modified">lib/styles/layerToggles.ts</span></span>
                </div>
            </div>

            <!-- Step 2 -->
            <div class="timeline-step success">
                <div class="step-header">
                    <span class="step-type type-success">Creation</span>
                    <span class="step-title">Created street name label layer</span>
                    <span class="confidence-badge confidence-high">High</span>
                </div>
                <div class="step-body">
                    Implemented <code>createStreetNameLayer()</code> function that generates MapLibre GL symbol layer for street names. Layer uses <code>transportation_name</code> source from OpenMapTiles, filters for features with names, and applies zoom-based sizing (10-14px at zoom 14-18). Includes halo styling support matching existing label system.
                </div>
                <div class="code-snippet">
                    <pre><span class="kw">export function</span> <span class="fn">createStreetNameLayer</span>(
  palette: <span class="tp">ColorPalette</span>,
  options: <span class="tp">LabelLayerOptions</span> = {}
): <span class="tp">any</span> {
  <span class="cm">// ... halo settings, color logic ...</span>
  <span class="kw">return</span> {
    id: <span class="tp">'labels-streets'</span>,
    type: <span class="tp">'symbol'</span>,
    source: <span class="tp">'openmaptiles'</span>,
    <span class="tp">'source-layer'</span>: <span class="tp">'transportation_name'</span>,
    filter: [<span class="tp">'has'</span>, <span class="tp">'name'</span>],
    <span class="cm">// ... layout and paint properties</span>
  };
}</pre>
                    <div class="snippet-rationale">
                        <strong>Rationale:</strong> Smaller text size than city/state labels (10-14px vs 11-20px), bottom anchor to place above roads, map rotation alignment for readability, no overlap allowed to prevent clutter.
                    </div>
                </div>
                <div class="file-tags">
                    <span class="file-tag"><span class="added">lib/styles/layers/labels.ts</span> +72 lines</span>
                </div>
            </div>

            <!-- Step 3 -->
            <div class="timeline-step success">
                <div class="step-header">
                    <span class="step-type type-success">Creation</span>
                    <span class="step-title">Added layer toggle configuration</span>
                    <span class="confidence-badge confidence-high">High</span>
                </div>
                <div class="step-body">
                    Added street names toggle to <code>getBaseLayerToggles()</code> function. Toggle ID is <code>labels-streets</code> with layer ID <code>labels-streets</code>. Placed after <code>labels-cities</code> toggle to group all label toggles together.
                </div>
                <div class="file-tags">
                    <span class="file-tag"><span class="added">lib/styles/layerToggles.ts</span> +4 lines</span>
                </div>
            </div>

            <!-- Step 4 -->
            <div class="timeline-step decision">
                <div class="step-header">
                    <span class="step-type type-decision">Decision</span>
                    <span class="step-title">Updated style builder layer order</span>
                    <span class="confidence-badge confidence-high">High</span>
                </div>
                <div class="step-body">
                    Modified <code>lib/styles/styleBuilder.ts</code> to import <code>createStreetNameLayer</code> and add street name layer to layer stack. Positioned after roads (8.5) and before railroads (8.6) to ensure proper rendering order: roads → street names → other labels.
                </div>
                <div class="code-snippet">
                    <pre><span class="cm">// 8. Roads</span>
<span class="kw">const</span> roadLayers = <span class="fn">createRoadLayers</span>(defaultPalette, roadOptions);
layers.<span class="fn">push</span>(...roadLayers);

<span class="cm">// 8.5 Street names (after roads, before other labels)</span>
<span class="kw">const</span> streetNameLayer = <span class="fn">createStreetNameLayer</span>(defaultPalette, labelOptions);
layers.<span class="fn">push</span>(streetNameLayer);

<span class="cm">// 8.6 Railroads (after roads, before 3D buildings)</span>
<span class="kw">const</span> railroadLayers = <span class="fn">createRailroadLayers</span>(defaultPalette);
layers.<span class="fn">push</span>(...railroadLayers);</pre>
                    <div class="snippet-rationale">
                        <strong>Rationale:</strong> Street names must appear after road geometry for visibility, but before other labels to maintain visual hierarchy. This prevents street names from being obscured by city/state labels.
                    </div>
                </div>
                <div class="file-tags">
                    <span class="file-tag"><span class="modified">lib/styles/styleBuilder.ts</span> +2 lines</span>
                </div>
            </div>

            <!-- Step 5 -->
            <div class="timeline-step success">
                <div class="step-header">
                    <span class="step-type type-success">Creation</span>
                    <span class="step-title">Added UI controls for street names</span>
                    <span class="confidence-badge confidence-high">High</span>
                </div>
                <div class="step-body">
                    Modified <code>components/controls/LayerControls.tsx</code> to categorize label layers and add new "Labels" collapsible section. Created <code>labelLayers</code> filter for <code>labels-admin</code>, <code>labels-cities</code>, and <code>labels-streets</code> toggles. UI automatically renders toggle using existing <code>LayerToggleItem</code> component.
                </div>
                <div class="code-snippet">
                    <pre><span class="kw">const</span> labelLayers = availableToggles.<span class="fn">filter</span>(t =>
  [<span class="tp">'labels-admin'</span>, <span class="tp">'labels-cities'</span>, <span class="tp">'labels-streets'</span>].<span class="fn">includes</span>(t.id)
);

<span class="cm">// ... in JSX:</span>
{labelLayers.length > <span class="tp">0</span> && (
  <CollapsibleSection title=<span class="tp">"Labels"</span> defaultOpen={<span class="tp">true</span>}>
    <div className=<span class="tp">"space-y-2"</span>>
      {labelLayers.<span class="fn">map</span>(renderLayerItem)}
    </div>
  </CollapsibleSection>
)}</pre>
                    <div class="snippet-rationale">
                        <strong>Rationale:</strong> Grouping all label toggles (admin, cities, streets) in dedicated section improves discoverability and maintains consistency with existing UI patterns.
                    </div>
                </div>
                <div class="file-tags">
                    <span class="file-tag"><span class="modified">components/controls/LayerControls.tsx</span> +6 lines</span>
                </div>
            </div>

            <!-- Step 6 -->
            <div class="timeline-step decision">
                <div class="step-header">
                    <span class="step-type type-decision">Decision</span>
                    <span class="step-title">Updated TypeScript types</span>
                    <span class="confidence-badge confidence-high">High</span>
                </div>
                <div class="step-body">
                    Added <code>'labels-streets'</code> property to <code>PosterLayers</code> interface in <code>types/poster.ts</code>. Property is optional boolean to match existing label toggle pattern.
                </div>
                <div class="file-tags">
                    <span class="file-tag"><span class="modified">types/poster.ts</span> +1 line</span>
                </div>
            </div>

            <!-- Step 7 -->
            <div class="timeline-step decision">
                <div class="step-header">
                    <span class="step-type type-decision">Decision</span>
                    <span class="step-title">Set default to disabled</span>
                    <span class="confidence-badge confidence-medium">Medium</span>
                </div>
                <div class="step-body">
                    Updated <code>lib/config/defaults.ts</code> to set <code>'labels-streets': false</code> by default. This maintains clean aesthetic of map editor and prevents visual clutter in dense urban areas. Users can enable via UI toggle.
                </div>
                <div class="attention-box">
                    <div class="attention-title">
                        <span>⚠️ VERIFY</span>
                        Default state assumption
                    </div>
                    <div class="attention-content">
                        Street names default to <strong>off</strong> based on assumption that users prefer clean aesthetic. This may need adjustment based on user feedback or analytics data.
                    </div>
                </div>
                <div class="file-tags">
                    <span class="file-tag"><span class="modified">lib/config/defaults.ts</span> +1 line</span>
                </div>
            </div>

            <!-- Verification -->
            <div class="timeline-step info">
                <div class="step-header">
                    <span class="step-type type-info">Verification</span>
                    <span class="step-title">Implementation complete, testing pending</span>
                    <span class="confidence-badge confidence-high">High</span>
                </div>
                <div class="step-body">
                    All code changes complete. Feature requires manual testing in development environment to verify:
                    <ul>
                        <li>Street names toggle appears in Labels section</li>
                        <li>Toggle shows/hides street names at zoom 14+</li>
                        <li>Styling matches existing label aesthetics (halo, colors)</li>
                        <li>Export functionality works with street names enabled/disabled</li>
                        <li>No performance degradation in dense urban areas</li>
                    </ul>
                </div>
                <div class="verification-section">
                    <div class="verification-title">Testing Status</div>
                    <div class="verification-grid">
                        <div class="verification-item">
                            <div class="verification-label">Unit Tests</div>
                            <div class="verification-value verification-pending">Pending</div>
                        </div>
                        <div class="verification-item">
                            <div class="verification-label">Integration Tests</div>
                            <div class="verification-value verification-pending">Pending</div>
                        </div>
                        <div class="verification-item">
                            <div class="verification-label">Manual Testing</div>
                            <div class="verification-value verification-pending">Pending</div>
                        </div>
                        <div class="verification-item">
                            <div class="verification-label">Export Testing</div>
                            <div class="verification-value verification-pending">Pending</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Assumptions Made -->
        <div class="collapsible">
            <div class="collapsible-header">
                <span class="collapsible-title">Assumptions Made</span>
                <span class="collapsible-icon">▼</span>
            </div>
            <div class="collapsible-content">
                <ul>
                    <li><strong>OpenMapTiles data availability:</strong> Assumed <code>transportation_name</code> layer contains street names for all regions. This is standard OpenMapTiles schema but may vary by region.</li>
                    <li><strong>Default state preference:</strong> Assumed users prefer clean aesthetic without street names by default. This may need adjustment based on user feedback or usage analytics.</li>
                    <li><strong>Zoom level behavior:</strong> Assumed street names should only appear at zoom 14+ based on typical cartographic practices. This prevents clutter at lower zoom levels.</li>
                    <li><strong>Label styling consistency:</strong> Assumed street names should use same halo/color system as existing labels for visual consistency.</li>
                    <li><strong>Performance impact:</strong> Assumed minimal performance impact since street names are already in tile data. No additional API calls or data fetching required.</li>
                </ul>
            </div>
        </div>

        <!-- Potential Questions -->
        <div class="collapsible">
            <div class="collapsible-header">
                <span class="collapsible-title">Potential Questions</span>
                <span class="collapsible-icon">▼</span>
            </div>
            <div class="collapsible-content">
                <ul>
                    <li><strong>Why default to off?</strong> Street names can create visual clutter in dense urban areas. Defaulting to off maintains clean aesthetic while allowing users to enable when needed. Can be changed based on user feedback.</li>
                    <li><strong>Will this break existing functionality?</strong> No. The implementation uses existing layer toggle infrastructure. All existing layers and toggles remain unchanged. Street names are additive only.</li>
                    <strong>Why is layer order important?</strong> MapLibre GL renders layers in order. Street names must appear after roads (to be visible) but before other labels (to maintain hierarchy). Incorrect order causes occlusion.</li>
                    <li><strong>How do I extend this?</strong> Future enhancements could include: label filtering by road type, custom styling options, language selection, or density controls. See implementation plan for details.</li>
                    <li><strong>What about export consistency?</strong> The existing layer visibility system preserves toggle state during export. Street names will be included/excluded in exports based on current toggle state automatically.</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Collapsible functionality
        document.querySelectorAll('.collapsible-header').forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                const icon = header.querySelector('.collapsible-icon');
                
                if (content.style.display === 'none') {
                    content.style.display = 'block';
                    icon.style.transform = 'rotate(0deg)';
                } else {
                    content.style.display = 'none';
                    icon.style.transform = 'rotate(-90deg)';
                }
            });
        });

        // Initialize collapsibles as closed
        document.querySelectorAll('.collapsible-content').forEach(content => {
            content.style.display = 'none';
        });
        document.querySelectorAll('.collapsible-icon').forEach(icon => {
            icon.style.transform = 'rotate(-90deg)';
        });
    </script>
</body>
</html>